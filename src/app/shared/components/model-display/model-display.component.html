<h3>Model:</h3>

<mat-tree
	[dataSource]="elementsTree"
	[treeControl]="elementsTreeControl"
	class="example-tree"
	>  
	<mat-tree-node *matTreeNodeDef="let element" matTreeNodeToggle>
		<button mat-icon-button disabled></button>
		<mat-checkbox
			[checked]="modelService.selectedElements$.isSelected(element)"
			(change)="updateElementSelection(element)">
			{{element.name}}
		</mat-checkbox>
	</mat-tree-node>
	<mat-nested-tree-node *matTreeNodeDef="let element; when: hasChild">
		<div class="mat-tree-node">
			<button mat-icon-button matTreeNodeToggle>
				<mat-icon class="mat-icon-rtl-mirror">
					{{elementsTreeControl.isExpanded(element) ? 'expand_more' : 'chevron_right'}}
				</mat-icon>
			</button>
			<mat-checkbox
				[indeterminate]="partialElementDescendantsSelected(element)"
				[checked]="allElementDescendantsSelected(element)"
				(change)="updateElementSelection(element)">
				{{element.name}}
			</mat-checkbox>
		</div>
		<div [class.example-tree-invisible]="!elementsTreeControl.isExpanded(element)"
			role="group">
			<ng-container matTreeNodeOutlet></ng-container>
		</div>
	</mat-nested-tree-node>
</mat-tree>


<!-- <mat-tree
	[dataSource]="modelElements"
	[treeControl]="modelControl"
	class="example-tree"
	#modelTree>  
	<!-- Template for leaf nodes 
	<mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
		<button mat-icon-button disabled></button>
		<mat-checkbox
			[checked]="modelService.selected$.isSelected(node)"
			(change)="toggleLeafNode(node)">
			{{node.name}}
		</mat-checkbox>
	</mat-tree-node>
	<!-- Template for expandable nodes 
	<mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
		<div class="mat-tree-node">
			<button mat-icon-button 
				matTreeNodeToggle
				[attr.aria-label]="'Toggle ' + node.name">
				<mat-icon class="mat-icon-rtl-mirror">
					{{modelControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
				</mat-icon>
			</button>
			<mat-checkbox
				[checked]="allDescendantsSelected(node)"
				[indeterminate]="partialDescendantsSelected(node)"
				(change)="toggleNode(node)">
				{{node.name}}
			</mat-checkbox>
		</div>
		<!-- There is inline padding applied to this div using styles.
		This padding value depends on the mat-icon-button width.  
		<div [class.example-tree-invisible]="!modelControl.isExpanded(node)"
			role="group">
			<ng-container matTreeNodeOutlet></ng-container>
		</div>
	</mat-nested-tree-node>
</mat-tree> -->

